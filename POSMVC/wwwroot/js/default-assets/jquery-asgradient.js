!function(t,e){if("function"==typeof define&&define.amd)define("AsGradient",["exports","jquery","jquery-asColor"],e);else if("undefined"!=typeof exports)e(exports,require("jquery"),require("jquery-asColor"));else{var r={exports:{}};e(r.exports,t.jQuery,t.AsColor),t.AsGradient=r.exports}}(this,function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(e),o=i(r);function i(t){return t&&t.__esModule?t:{default:t}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l={prefixes:["-webkit-","-moz-","-ms-","-o-"],forceStandard:!0,angleUseKeyword:!0,emptyString:"",degradationFormat:!1,cleanPosition:!0,color:{format:!1,hexUseName:!1,reduceAlpha:!0,shortenHex:!0,zeroAlphaAsTransparent:!1,invalidValue:{r:0,g:0,b:0,a:1}}};function p(){var t=window.navigator.userAgent,e="";return/MSIE/g.test(t)?e="-ms-":/Firefox/g.test(t)?e="-moz-":/(WebKit)/i.test(t)?e="-webkit-":/Opera/g.test(t)&&(e="-o-"),e}function f(t){var e={top:"bottom",right:"left",bottom:"top",left:"right","right top":"left bottom","top right":"bottom left","bottom right":"top left","right bottom":"left top","left bottom":"right top","bottom left":"top right","top left":"bottom right","left top":"right bottom"};return e.hasOwnProperty(t)?e[t]:t}String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)});var h,c,v,g,d,y,m={"to top":0,"to right":90,"to bottom":180,"to left":270,"to right top":45,"to top right":45,"to bottom right":135,"to right bottom":135,"to left bottom":225,"to bottom left":225,"to top left":315,"to left top":315},b=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(m),S=(h=/(?:rgba|rgb|hsla|hsl)\s*\([\s\d\.,%]+\)|#[a-z0-9]{3,6}|[a-z]+/i,c=/\d{1,3}%/i,v=/(?:to ){0,1}(?:(?:top|left|right|bottom)\s*){1,2}|\d+deg/i,g=new RegExp("("+h.source+")\\s*("+c.source+"){0,1}","i"),d=new RegExp(g.source,"gi"),y=new RegExp("(?:("+v.source+")){0,1}\\s*,{0,1}\\s*(.*?)\\s*","i"),{FULL:new RegExp("^(-webkit-|-moz-|-ms-|-o-){0,1}(linear|radial|repeating-linear)-gradient\\s*\\(\\s*("+y.source+")\\s*\\)$","i"),ANGLE:v,COLOR:h,POSITION:c,STOP:g,STOPS:d,PARAMETERS:new RegExp("^"+y.source+"$","i")}),x={matchString:function(t){var e=this.parseString(t);return!!(e&&e.value&&e.value.stops&&e.value.stops.length>1)},parseString:function(t){t=n.default.trim(t);var e;if(null!==(e=S.FULL.exec(t))){var r=this.parseParameters(e[3]);return{prefix:void 0===e[1]?null:e[1],type:e[2],value:r}}return!1},parseParameters:function(t){var e;if(null!==(e=S.PARAMETERS.exec(t))){var r=this.parseStops(e[2]);return{angle:void 0===e[1]?0:e[1],stops:r}}return!1},parseStops:function(t){var e,r=this,o=[];return null!==(e=t.match(S.STOPS))&&(n.default.each(e,function(t,e){var n=r.parseStop(e);n&&o.push(n)}),o)},formatStops:function(t,e){for(var r=void 0,n=[],o=[],i=[],s=void 0,a=0;a<t.length;a++)s=void 0===(r=t[a]).position||null===r.position?0===a?0:a===t.length-1?1:void 0:r.position,o.push(s),i.push(r.color.toString());o=function(t){for(var e=null,r=void 0,n=0;n<t.length;n++)if(isNaN(t[n])){if(null===e){e=n;continue}}else if(e){r=(t[n]-t[e-1])/(n-e+1);for(var o=e;o<n;o++)t[o]=t[e-1]+(o-e+1)*r;e=null}return t}(o);for(var u=0;u<t.length;u++)s=e&&(0===u&&0===o[u]||u===t.length-1&&1===o[u])?"":" "+this.formatPosition(o[u]),n.push(i[u]+s);return n.join(", ")},parseStop:function(t){var e;if(null!==(e=S.STOP.exec(t))){var r=this.parsePosition(e[2]);return{color:e[1],position:r}}return!1},parsePosition:function(t){return"string"==typeof t&&"%"===t.substr(-1)&&(t=parseFloat(t.slice(0,-1)/100)),null!=t?parseFloat(t,10):null},formatPosition:function(t){return parseInt(100*t,10)+"%"},parseAngle:function(t,e){if("string"==typeof t&&t.includes("deg")&&(t=t.replace("deg","")),isNaN(t)||e&&(t=this.fixOldAngle(t)),"string"==typeof t){var r=t.split(" "),n=[];for(var o in r)s=r[o],/^(top|left|right|bottom)$/i.test(s)&&n.push(r[o].toLowerCase());var i=n.join(" ");t.includes("to ")||(i=f(i)),i="to "+i,m.hasOwnProperty(i)&&(t=m[i])}var s,a=parseFloat(t,10);return a>360?a%=360:a<0&&0!==(a%=-360)&&(a+=360),a},fixOldAngle:function(t){return t=parseFloat(t),t=Math.abs(450-t)%360,t=parseFloat(t.toFixed(3))},formatAngle:function(t,e,r){return t=parseInt(t,10),r&&b.hasOwnProperty(t)?(t=b[t],e&&(t=f(t.substr(3)))):(e&&(t=this.fixOldAngle(t)),t+="deg"),t}},k=function(){function t(e,r,n){a(this,t),this.color=(0,o.default)(e,n.options.color),this.position=x.parsePosition(r),this.id=++n._stopIdCount,this.gradient=n}return u(t,[{key:"setPosition",value:function(t){var e=x.parsePosition(t);this.position!==e&&(this.position=e,this.gradient.reorder())}},{key:"setColor",value:function(t){this.color.fromString(t)}},{key:"remove",value:function(){this.gradient.removeById(this.id)}}]),t}(),A={LINEAR:{parse:function(t){return{r:"%"===t[1].substr(-1)?parseInt(2.55*t[1].slice(0,-1),10):parseInt(t[1],10),g:"%"===t[2].substr(-1)?parseInt(2.55*t[2].slice(0,-1),10):parseInt(t[2],10),b:"%"===t[3].substr(-1)?parseInt(2.55*t[3].slice(0,-1),10):parseInt(t[3],10),a:1}},to:function(t,e,r){if(0===t.stops.length)return e.options.emptyString;if(1===t.stops.length)return t.stops[0].color.to(e.options.degradationFormat);var o=e.options.forceStandard,i=e._prefix;i||(o=!0),r&&-1!==n.default.inArray(r,e.options.prefixes)&&(o=!1,i=r);var s="linear-gradient("+x.formatAngle(t.angle,!o,e.options.angleUseKeyword)+", "+x.formatStops(t.stops,e.options.cleanPosition)+")";return o?s:i+s}}},P=function(){function t(e,r){a(this,t),"object"===(void 0===e?"undefined":s(e))&&void 0===r&&(r=e,e=void 0),this.value={angle:0,stops:[]},this.options=n.default.extend(!0,{},l,r),this._type="LINEAR",this._prefix=null,this.length=this.value.stops.length,this.current=0,this._stopIdCount=0,this.init(e)}return u(t,[{key:"init",value:function(t){t&&this.fromString(t)}},{key:"val",value:function(t){return void 0===t?this.toString():(this.fromString(t),this)}},{key:"angle",value:function(t){return void 0===t?this.value.angle:(this.value.angle=x.parseAngle(t),this)}},{key:"append",value:function(t,e){return this.insert(t,e,this.length)}},{key:"reorder",value:function(){this.length<2||(this.value.stops=this.value.stops.sort(function(t,e){return t.position-e.position}))}},{key:"insert",value:function(t,e,r){void 0===r&&(r=this.current);var n=new k(t,e,this);return this.value.stops.splice(r,0,n),this.length=this.length+1,this.current=r,n}},{key:"getById",value:function(t){if(this.length>0)for(var e in this.value.stops)if(t===this.value.stops[e].id)return this.value.stops[e];return!1}},{key:"removeById",value:function(t){var e=this.getIndexById(t);e&&this.remove(e)}},{key:"getIndexById",value:function(t){var e=0;for(var r in this.value.stops){if(t===this.value.stops[r].id)return e;e++}return!1}},{key:"getCurrent",value:function(){return this.value.stops[this.current]}},{key:"setCurrentById",value:function(t){var e=0;for(var r in this.value.stops)this.value.stops[r].id!==t?e++:this.current=e}},{key:"get",value:function(t){return void 0===t&&(t=this.current),t>=0&&t<this.length&&(this.current=t,this.value.stops[t])}},{key:"remove",value:function(t){void 0===t&&(t=this.current),t>=0&&t<this.length&&(this.value.stops.splice(t,1),this.length=this.length-1,this.current=t-1)}},{key:"empty",value:function(){this.value.stops=[],this.length=0,this.current=0}},{key:"reset",value:function(){this.value._angle=0,this.empty(),this._prefix=null,this._type="LINEAR"}},{key:"type",value:function(t){return"string"==typeof t&&(t=t.toUpperCase())&&void 0!==A[t]?(this._type=t,this):this._type}},{key:"fromString",value:function(t){var e=this;this.reset();var r=x.parseString(t);r&&(this._prefix=r.prefix,this.type(r.type),r.value&&(this.value.angle=x.parseAngle(r.value.angle,null!==this._prefix),n.default.each(r.value.stops,function(t,r){e.append(r.color,r.position)})))}},{key:"toString",value:function(t){return!0===t&&(t=p()),A[this.type()].to(this.value,this,t)}},{key:"matchString",value:function(t){return x.matchString(t)}},{key:"toStringWithAngle",value:function(t,e){var r=n.default.extend(!0,{},this.value);return r.angle=x.parseAngle(t),!0===e&&(e=p()),A[this.type()].to(r,this,e)}},{key:"getPrefixedStrings",value:function(){var t=[];for(var e in this.options.prefixes)Object.hasOwnProperty.call(this.options.prefixes,e)&&t.push(this.toString(this.options.prefixes[e]));return t}}],[{key:"setDefaults",value:function(t){n.default.extend(!0,l,n.default.isPlainObject(t)&&t)}}]),t}(),I=n.default.asGradient,w=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return new(Function.prototype.bind.apply(P,[null].concat(e)))};n.default.asGradient=w,n.default.asGradient.Constructor=P,n.default.extend(n.default.asGradient,{setDefaults:P.setDefaults,noConflict:function(){return n.default.asGradient=I,w}},x,{version:"0.3.3"});var O=n.default.asGradient;t.default=O});